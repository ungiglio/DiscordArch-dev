/* CORE: VARIABLES (Arch Modular System) */

/* 1. VARIABILI DI EMERGENZA (Fallback) */
/* Se nessuna skin è caricata, usa questi valori di default (stile Arch) */
:root {
    --accent-main-fallback: 23, 147, 209; /* Arch Blue */
    --accent-dim-fallback: 20, 20, 20;    /* Dark Grey */
    --text-primary-fallback: 238, 238, 238;
    --background-image: var(--distro-bg, url('https://i.imgur.com/uG9XF2i.png')); 
    --highlight: rgb(var(--accent-main, 23, 147, 209));
}


/* 2. MAPPING DELLE VARIABILI (Il "Ponte") */
:root,
.theme-dark,
.theme-light {
    --file-ver: "ArchCore-v1.0";

    /* --- GESTIONE COLORI PRINCIPALI --- */
    --highlight-rgb: var(--accent-main, var(--accent-main-fallback));
    --highlight: rgb(var(--highlight-rgb));
    
    --highlight-darker: hsl(from var(--highlight) h s calc(l - 20));

    /* --- SFONDI E LAYERS --- */
    --background-image: var(--distro-bg, var(--custom-image-url)); 

    --background-primary: rgba(var(--accent-dim, var(--accent-dim-fallback)), 0.9) !important;
    --background-secondary: rgba(10, 13, 15, 0.95) !important;
    --background-tertiary: rgba(5, 5, 5, 0.98) !important;
    
    --background-floating: #000000 !important; 
    
    /* --- COLORI TESTO E CATEGORIE --- */
    --header-cat-rgb: var(--highlight-rgb);
    --cat-custom-color: rgb(var(--header-cat-rgb));

    --text-lilac: var(--highlight);
    --text-white: rgb(var(--text-primary, var(--text-primary-fallback)));

    /* --- UI ELEMENTS & BUTTONS --- */
    --button-background: linear-gradient(90deg, var(--highlight), var(--highlight-darker));
    --button-background-static: var(--highlight);
    
    --scrollbar-thin-thumb: var(--highlight) !important;
    --scrollbar-auto-thumb: var(--highlight) !important;

    --app-border-frame: rgba(255, 255, 255, 0.05) !important;
    --border-subtle: rgba(255, 255, 255, 0.1) !important;
    --border-strong: rgba(var(--highlight-rgb), 0.3) !important;

    /* --- COMPATIBILITÀ DISCORD (Override) --- */
    --logo-primary: var(--highlight) !important;
    --control-brand-foreground: var(--highlight) !important;
    --bg-brand: var(--highlight) !important;
    --mention-foreground: var(--highlight) !important;
    --mention-background: rgba(var(--highlight-rgb), 0.1) !important;

    /* Stati */
    --online-color: var(--highlight) !important;
    --dnd-color: #d75f5f !important;
    --afk-color: #e5c07b !important;
    
    /* Messaggi */
    --background-mentioned: rgba(var(--highlight-rgb), 0.1) !important;
    --background-mentioned-hover: rgba(var(--highlight-rgb), 0.2) !important;
    --background-message-hover: rgba(255, 255, 255, 0.03) !important;
}